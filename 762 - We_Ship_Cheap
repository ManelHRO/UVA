#include <bits/stdc++.h>
using namespace std;
vector<int> adj[10002];
int pai[10002];
map<string,int> mp;
map<int,string> mpaux;
bool vis[10002];

void bfs(int in){
	
    int aux= in;
    vis[aux]=true;

    pai[aux]=-1;
    queue<int> q;
    q.push(aux);

    while(!q.empty()){
        aux = q.front();q.pop();
        for(auto x : adj[aux]){
            if(!vis[x]){
                pai[x]=aux;
                vis[x]=true;
                q.push(x);
            }
        }
    }
}

void imp(int i){
    if(pai[i]==-1) return;
    imp(pai[i]);
    cout<<mpaux[pai[i]]<<" "<<mpaux[i]<<endl;
}

int main(){
    int n,cont,a,b;
    string x,y;
    
    while(cin>>n){
        
        cont=0;
        memset(vis,false,sizeof(vis));
        memset(pai,-1,sizeof(pai));
        for(int i=0;i<n*2;i++) adj[i].clear();
        mp.clear();
        mpaux.clear();
        
        for(int i=0;i<n;i++){
            cin>>x>>y;
            if(mp.count(x)){ a=mp[x];}
            else{
				a = cont;
				mpaux[a]=x;
                mp[x]=cont++;
            }
            if(mp.count(y)){ b=mp[y];}
            else{
				b = cont;
				mpaux[b]=y;
                mp[y]=cont++;
            }
            adj[a].push_back(b);
            adj[b].push_back(a);
        }
        cin>>x>>y;
  
        bfs(mp[x]);
        if(pai[mp[y]]==-1 and pai[mp[y]]!=0) cout<<"No route"<<endl;
        else imp(mp[y]);
        
        getline(cin.ignore(),x);
    }
}
